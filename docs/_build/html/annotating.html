
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Annotating EMDB-SFF Segmentations &#8212; sfftk 0.1.1.dev0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.1.dev0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Miscellaneous Operations Using sfftk" href="misc.html" />
    <link rel="prev" title="Converting Files To EMDB-SFF" href="converting.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="annotating-emdb-sff-segmentations">
<h1>Annotating EMDB-SFF Segmentations<a class="headerlink" href="#annotating-emdb-sff-segmentations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Annotation of EMDB-SFF segmentations is the second core function of sfftk. Here we outline how to perform annotations of EMDB-SFF segmentations via the command-line.</p>
<p>Annotation is performed using the notes utility that is accessed with the notes subcommand.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span>
</pre></div>
</div>
<div class="section" id="operations-find-view-modify">
<h3>Operations: find, view, modify<a class="headerlink" href="#operations-find-view-modify" title="Permalink to this headline">¶</a></h3>
<p>There are three main operations that a user can perform using the notes subcommand.</p>
<ul class="simple">
<li>Finding notes from an ontology principally the Ontology Lookup Service (OLS) hosted at EMBL-EBI;</li>
<li>Viewing notes present in an EMDB-SFF file;</li>
<li>Modifying notes in an EMDB-SFF file.</li>
</ul>
</div>
<div class="section" id="states-find-view-modify">
<h3>States: FIND, VIEW, MODIFY<a class="headerlink" href="#states-find-view-modify" title="Permalink to this headline">¶</a></h3>
<p>Correspondingly, using the notes subcommand puts the user in one of three states: the FIND state, the VIEW state and the MODIFY state. These will be indicated by the colour of the text on the screen.</p>
<ul class="simple">
<li>White indicates the VIEW STATE i.e. that no modifications have been done on any EMDB-SFF file</li>
<li>Yellow indicates the FIND STATE i.e. search results, and</li>
<li>Green indicates the MODIFY STATE i.e. that a file is currently being edited. Note, viewing the contents of an EMDB-SFF file in the MODIFY STATE will also appear in green even if it a view action.</li>
</ul>
<p>The full listing of sub-subcommands organised by operation are:</p>
<ul class="simple">
<li>Finding<ul>
<li>search</li>
</ul>
</li>
<li>Viewing<ul>
<li>list</li>
<li>show</li>
</ul>
</li>
<li>Modifying<ul>
<li>add</li>
<li>edit</li>
<li>del</li>
<li>merge</li>
<li>save</li>
<li>trash</li>
</ul>
</li>
</ul>
<p>We will look at each of these in turn.</p>
</div>
<div class="section" id="quick-start">
<h3>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="finding-notes">
<h2>Finding Notes<a class="headerlink" href="#finding-notes" title="Permalink to this headline">¶</a></h2>
<p>The search sub-subcommand displays results from searching EMBL-EBI’s OLS. As described in <a class="reference external" href="#states-find-view-modify">*States*</a>, the terminal text is coloured yellow.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">search</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">search</span> <span class="o">-</span><span class="n">h</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">search</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<p>display available options.</p>
<div class="section" id="specifying-search-terms">
<h3>Specifying Search Terms<a class="headerlink" href="#specifying-search-terms" title="Permalink to this headline">¶</a></h3>
<p>For single worded searches enter the term with or without quotes. Multi-word terms must be quoted to prevent splitting them.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span># single word term
sff notes search mitochondria
sff notes search ‘mitochondria’
sff notes search “mitochondria”
# multi-word term
sff notes search ‘fragment mitochondria’
</pre></div>
</div>
<p>The search results are displayed as a table with the following columns:</p>
<ul class="simple">
<li><em>index</em></li>
<li><em>label</em> of the result term</li>
<li><em>obo_id</em>  <a class="footnote-reference" href="#id2" id="id1">[1]</a> of the result term</li>
<li><em>ontology_name</em></li>
<li><em>description</em> is free text describing the term</li>
<li><em>type</em> can have one of the following values: <em>class, property, individual, ontology</em></li>
</ul>
<div class="section" id="specifying-the-ontology-to-search">
<h4>Specifying The Ontology To Search<a class="headerlink" href="#specifying-the-ontology-to-search" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes search -O &lt;ontology_name&gt; “&lt;term&gt;”
sff notes search --ontology &lt;ontology_name&gt; “&lt;term&gt;”
</pre></div>
</div>
<p>See <a class="reference external" href="#listing-available-ontologies">*Listing Available Ontologies*</a> on how to get an ontology to search.</p>
</div>
<div class="section" id="performing-exact-searches">
<h4>Performing Exact Searches<a class="headerlink" href="#performing-exact-searches" title="Permalink to this headline">¶</a></h4>
<p>Exact searches only return results matching the search term <em>exactly.</em></p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes search -x “&lt;term&gt;”
sff notes search --exact “&lt;term&gt;”
</pre></div>
</div>
</div>
<div class="section" id="including-obsolete-terms">
<h4>Including Obsolete Terms<a class="headerlink" href="#including-obsolete-terms" title="Permalink to this headline">¶</a></h4>
<p>Some terms are retired and are excluded by default. They can be included using the -o/–obsoletes flag.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes search -o “&lt;term&gt;”
sff notes search --obsoletes “&lt;term&gt;”
</pre></div>
</div>
</div>
</div>
<div class="section" id="listing-available-ontologies">
<h3>Listing Available Ontologies<a class="headerlink" href="#listing-available-ontologies" title="Permalink to this headline">¶</a></h3>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes search -L “term”
sff notes search --list-ontologies “term”
</pre></div>
</div>
<p>By default this provides a multi-line result for each ontology consisting of the <em>namespace</em> (also called <em>ID space), preferred prefix, title, description, homepage, the ontology ID,</em> and <em>version</em> of the ontology.</p>
<div class="section" id="short-listing-of-ontologies">
<h4>Short Listing Of Ontologies<a class="headerlink" href="#short-listing-of-ontologies" title="Permalink to this headline">¶</a></h4>
<p>Alternatively, a simple table result can be displayed using the -l/–short-list-ontologies flag which displays only two columns: <em>namespace</em> and <em>description.</em></p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes search -l “term”
sff notes search --short-list-ontologies “term”
</pre></div>
</div>
</div>
</div>
<div class="section" id="traversing-searching-results">
<h3>Traversing Searching Results<a class="headerlink" href="#traversing-searching-results" title="Permalink to this headline">¶</a></h3>
<p>By default, sff notes search only shows the first page of results. Quite often, there will be more than one page of results. This will be evident from the last line of the results:</p>
<p>Showing: 1 to 10 of 139 results found</p>
<div class="section" id="specifying-the-start-result">
<h4>Specifying The Start Result<a class="headerlink" href="#specifying-the-start-result" title="Permalink to this headline">¶</a></h4>
<p>The user can specify the result index at which results should be displayed using the -s/–start flag.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes search -s 1 “&lt;term&gt;”
sff notes search --start 1 “&lt;term&gt;”
</pre></div>
</div>
</div>
<div class="section" id="specifying-the-number-of-rows-to-display">
<h4>Specifying The Number Of Rows To Display<a class="headerlink" href="#specifying-the-number-of-rows-to-display" title="Permalink to this headline">¶</a></h4>
<p>More results can be display using the -r/–rows flag.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes search -r 11 “&lt;term&gt;”
sff notes search --row 11 “&lt;term&gt;”
</pre></div>
</div>
<p>Entering invalid values for -s/–start and -r/–rows raise ValueError exceptions.</p>
</div>
</div>
</div>
<div class="section" id="viewing-notes">
<h2>Viewing Notes<a class="headerlink" href="#viewing-notes" title="Permalink to this headline">¶</a></h2>
<p>sfftk includes utilities to view annotations (notes) included in EMDB-SFF files. There are two main functionalities:</p>
<ul class="simple">
<li>Listing all notes present using the sff notes list sub-subcommand, and</li>
<li>Showing notes in a single segmentation using the sff notes show sub-command.</li>
</ul>
<p>As describe in <a class="reference external" href="#states-find-view-modify">*States*</a>, the teminal text colour when viewing is white.</p>
<div class="section" id="listing-all-notes">
<h3>Listing All Notes<a class="headerlink" href="#listing-all-notes" title="Permalink to this headline">¶</a></h3>
<p>Notes are listed using the following command:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="n">file</span><span class="o">.</span><span class="n">sff</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="n">file</span><span class="o">.</span><span class="n">hff</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>The output is structured as follows:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">Status</span> <span class="n">information</span>
<span class="o">==================</span>
<span class="n">EMDB</span><span class="o">-</span><span class="n">SFF</span> <span class="n">metadata</span>
<span class="o">******************</span>
<span class="n">Segment</span> <span class="n">metatdata</span>
</pre></div>
</div>
<p>Here is an example:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">INSERT</span> <span class="n">OUTPUT</span> <span class="n">HERE</span>
</pre></div>
</div>
<p>where the first line provides some status information about the current listing. Status messages will become much more important when we look at <a class="reference external" href="#_c0sybxydflf7">**modifying notes in EMDB-SFF files**</a>. Status messages begin with a timestamp. Following status messages is the EMDB-SFF header information which specifies the schema version (0.6.0a4), the name of the segmentation (‘STL Segmentation’), software information including processing details, the primary descriptor (<em>meshList</em> in this case) and additional details on this segmentation. A row asterisks then divides the metadata from the segment data where one row per segment provides the <em>segment_id, parentID, description, number of instances, number of external references, number of complexes, number of macromolecules,</em> and <em>RGBA colour</em> of the segment. When modifying notes these values change.</p>
<div class="section" id="long-format">
<h4>Long Format<a class="headerlink" href="#long-format" title="Permalink to this headline">¶</a></h4>
<p>To view the list of notes by segment in long format (much more detail) use the -l/–long-format flag.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="o">-</span><span class="n">l</span> <span class="n">file</span><span class="o">.</span><span class="n">sff</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="o">--</span><span class="n">long</span><span class="o">-</span><span class="nb">format</span> <span class="n">file</span><span class="o">.</span><span class="n">sff</span>
</pre></div>
</div>
<p>having the same</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">Status</span> <span class="n">information</span>
<span class="o">==================</span>
<span class="n">EMDB</span><span class="o">-</span><span class="n">SFF</span> <span class="n">metadata</span>
<span class="o">******************</span>
<span class="n">Segment</span> <span class="n">metatdata</span>
</pre></div>
</div>
<p>structure except now that the Segment metadata section has much more detail.</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">INSERT</span> <span class="n">OUTPUT</span> <span class="n">HERE</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting-notes-by-description">
<h4>Sorting Notes By Description<a class="headerlink" href="#sorting-notes-by-description" title="Permalink to this headline">¶</a></h4>
<p>Notes are sorted by the index (first column) by default. However, the user can sort notes by description (third column) using the -D/–sort-by-description flag.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="o">-</span><span class="n">D</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="o">--</span><span class="n">sort</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">description</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">INSERT</span> <span class="n">OUTPUT</span> <span class="n">HERE</span>
</pre></div>
</div>
<p>becomes</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">INSERT</span> <span class="n">OUTPUT</span> <span class="n">HERE</span>
</pre></div>
</div>
<p>Note that descriptions longer than 40 characters are truncated and terminated with an ellipsis (…) but the full description is visible in long format.</p>
</div>
<div class="section" id="reverse-sorting">
<h4>Reverse Sorting<a class="headerlink" href="#reverse-sorting" title="Permalink to this headline">¶</a></h4>
<p>Alternative, sorting can be reversed using the -r/–reverse flag. This applies to both sorting by index or by description.</p>
<p>Reverse sorting by index:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="o">-</span><span class="n">r</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="o">--</span><span class="n">reverse</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>Reverse sorting by description</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">D</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="nb">list</span> <span class="o">--</span><span class="n">reverse</span> <span class="o">--</span><span class="n">sort</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">description</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="listing-notes-in-a-single-segment">
<h3>Listing Notes In A Single Segment<a class="headerlink" href="#listing-notes-in-a-single-segment" title="Permalink to this headline">¶</a></h3>
<p>Listing notes from EMDB-SFF files with many segments could clutter the screen. The user can switch between listing all segments to finding segment IDs of interest then displaying one or more segments of interest using the sff notes show sub-subcommand. Therefore, this takes an extra parameter -i/–segment-id which takes either one ID or a sequence of IDs separated only by commas (,).</p>
<p>Show one segment:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">show</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">show</span> <span class="o">--</span><span class="n">segment</span><span class="o">-</span><span class="nb">id</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>For more than one:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">show</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">show</span> <span class="o">--</span><span class="n">segment</span><span class="o">-</span><span class="nb">id</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>Note that there are NO SPACES between the sequence of segment IDs. As with listing notes, the user can show notes in long format using the -l/–long-format flag.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">show</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">l</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="o">--</span><span class="n">segment</span><span class="o">-</span><span class="nb">id</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">long</span><span class="o">-</span><span class="nb">format</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="modifying-notes">
<h2>Modifying Notes<a class="headerlink" href="#modifying-notes" title="Permalink to this headline">¶</a></h2>
<p>Modifying notes is slightly more complicated than the read-only activities of finding and viewing described above. It involves making changes to the annotation sections (<em>biologicalAnnotation: description, numberOfInstances, externalReferences</em> and <em>complexesAndMacromolecules: complexes</em> and <em>macromolecules</em>) of the segments of interest.</p>
<div class="section" id="temporary-file">
<h3>Temporary File<a class="headerlink" href="#temporary-file" title="Permalink to this headline">¶</a></h3>
<p>In order to avoid destroying the EMDB-SFF file to be modified, sfftk makes a temporary copy to be used throughout the modification process. Once the user is satisfied with the annotation the temporary file should be saved. Alternatively, the user can discard all changes by trashing the annotation then starting again.</p>
<div class="section" id="a-note-about-emdb-sff-formats">
<h4>A Note About EMDB-SFF Formats<a class="headerlink" href="#a-note-about-emdb-sff-formats" title="Permalink to this headline">¶</a></h4>
<p>Any EMDB-SFF format (XML, HDF5, JSON) may be used for the temporary file. However, JSON is preferred because of the absence of geometrical data. XML (particularly) and HDF5 can have voluminous geometrical data which can make the process of modifying an EMDB-SFF very slow. The default format used is JSON.</p>
</div>
</div>
<div class="section" id="temporary-file-shorthand">
<h3>Temporary File Shorthand<a class="headerlink" href="#temporary-file-shorthand" title="Permalink to this headline">¶</a></h3>
<p>Once the user has entered the MODIFY state (by either running sff notes add or sff notes edit or or sff notes del) the user can refer to the temporary file using a shorthand specified in the configs. The default shorthand is the ‘at’ symbol (&#64;).</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span># add a description (assuming none exists)
sff notes add -i 1 -D ‘some description’ file.sff
# user is now in MODIFY state
sff notes edit -i 1 -D ‘another description’ @
</pre></div>
</div>
<p>This is useful if the file has a long name or is at a distant path.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes add -i 1 -D ‘some description’ tomo_5_diff_change_3.3_pi_77_27_paul_publishes.json

sff notes edit -i 1 -D ‘another description’ @
</pre></div>
</div>
<p>or</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes add -i 1 -D ‘some description’ ~/experiments/files/tomograms/zebra_fish_20170312/masks_repeat_19_3.3_relion_2.0.json
sff notes edit -i 1 -D ‘some description’ @
</pre></div>
</div>
</div>
<div class="section" id="modify-sequence">
<h3>Modify Sequence<a class="headerlink" href="#modify-sequence" title="Permalink to this headline">¶</a></h3>
<p>The following diagram illustrates the sequence of steps to be carried out with the names of the sub-subcommand next to arrows showing the modification that occurs.</p>
<img alt="_images/annotating-01.png" src="_images/annotating-01.png" />
<p>There are four types of annotations that can be made:</p>
<ul class="simple">
<li>the segment description</li>
<li>the number of instances of the segment</li>
<li>external references using public accessions<ul>
<li>global external references apply to the segmentation as a whole such as specimen type, scientific name</li>
<li>external references for a single segment apply only to a single segment</li>
</ul>
</li>
<li>complexes and macromolecules</li>
</ul>
</div>
<div class="section" id="adding-notes">
<h3>Adding Notes<a class="headerlink" href="#adding-notes" title="Permalink to this headline">¶</a></h3>
<p>Notes are added using the sff notes add sub-subcommand.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<div class="section" id="adding-a-description">
<h4>Adding A Description<a class="headerlink" href="#adding-a-description" title="Permalink to this headline">¶</a></h4>
<p>Use the -D/–description flag to add a description. Multi-word descriptions will need to be quoted.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes add -D ‘a very good description’ file.sff
sff notes add --description ‘a very good description’ file.sff
</pre></div>
</div>
</div>
<div class="section" id="adding-the-number-of-instances">
<h4>Adding The Number of Instances<a class="headerlink" href="#adding-the-number-of-instances" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">n</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">number</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">instances</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-an-external-reference">
<h4>Adding An External Reference<a class="headerlink" href="#adding-an-external-reference" title="Permalink to this headline">¶</a></h4>
<p>External references consist of two parts:</p>
<ul class="simple">
<li>the name of the ontology, and</li>
<li>the obo_id or accession</li>
</ul>
<p>Both of these may be obtained either from the OLS website of using the output of <a class="reference external" href="#finding-notes">*sff notes search ‘&lt;term&gt;’*</a>.</p>
<p>For example, suppose we obtain the following result in a search:</p>
<p>INSERT NEW IMAGE</p>
<p>and are interested in adding the second result as an external reference to a segment. We note down the ontology name (go) and the obo_id (<a class="reference external" href="GO:0005739">GO:0005739</a>) then use the following command:</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">E</span> <span class="o">&lt;</span><span class="n">ontology</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">obo_id</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">external</span><span class="o">-</span><span class="n">ref</span> <span class="o">&lt;</span><span class="n">ontology</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">obo_id</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-a-complex-internal-use">
<h4>Adding A Complex (Internal Use)<a class="headerlink" href="#adding-a-complex-internal-use" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">C</span> <span class="o">&lt;</span><span class="n">comp1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">comp2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="o">&lt;</span><span class="n">compN</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">complexes</span> <span class="o">&lt;</span><span class="n">comp1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">comp2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="o">&lt;</span><span class="n">compN</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-a-macromolecule-internal-use">
<h4>Adding A Macromolecule (Internal Use&gt;<a class="headerlink" href="#adding-a-macromolecule-internal-use" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">M</span> <span class="o">&lt;</span><span class="n">macr1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">macr2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="o">&lt;</span><span class="n">macrN</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">add</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">macromolecules</span> <span class="o">&lt;</span><span class="n">macr1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">macr2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="o">&lt;</span><span class="n">macrN</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="editing-notes">
<h3>Editing Notes<a class="headerlink" href="#editing-notes" title="Permalink to this headline">¶</a></h3>
<p>If a segment in an EMDB-SFF file already contains notes then we can only edit the notes using the sff notes edit sub-subcommand. Because some edit options will need to refer to specific entries (e.g. the third external reference) extra arguments are required to specify which entry is being edited.</p>
<div class="section" id="editing-a-description">
<h4>Editing A Description<a class="headerlink" href="#editing-a-description" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>sff notes edit -i &lt;segment_id&gt; -D ‘&lt;description&gt;’ file.json
sff notes edit -i &lt;segment_id&gt; -D ‘&lt;description&gt;’ @ # if editing a just-added description
</pre></div>
</div>
</div>
<div class="section" id="editing-the-number-of-instances">
<h4>Editing The Number of Instances<a class="headerlink" href="#editing-the-number-of-instances" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">n</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">n</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">@</span> <span class="c1"># if editing a just-added value</span>
</pre></div>
</div>
</div>
<div class="section" id="editing-an-external-reference">
<h4>Editing An External Reference<a class="headerlink" href="#editing-an-external-reference" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">e</span> <span class="o">&lt;</span><span class="n">extref_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">E</span> <span class="o">&lt;</span><span class="n">ontology</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">obo_id</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">external</span><span class="o">-</span><span class="n">ref</span><span class="o">-</span><span class="nb">id</span> <span class="o">&lt;</span><span class="n">extref_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">E</span> <span class="o">&lt;</span><span class="n">ontology</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">obo_id</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="c1"># if editing a just-added description</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">e</span> <span class="o">&lt;</span><span class="n">extref_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">E</span> <span class="o">&lt;</span><span class="n">ontology</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">obo_id</span><span class="o">&gt;</span> <span class="o">@</span>
</pre></div>
</div>
</div>
<div class="section" id="editing-a-complex-internal-use">
<h4>Editing A Complex (Internal Use)<a class="headerlink" href="#editing-a-complex-internal-use" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">c</span> <span class="o">&lt;</span><span class="n">comp_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">C</span> <span class="o">&lt;</span><span class="n">comp1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">comp2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="o">&lt;</span><span class="n">compN</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="nb">complex</span><span class="o">-</span><span class="nb">id</span> <span class="o">&lt;</span><span class="n">comp_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">C</span> <span class="o">&lt;</span><span class="n">comp1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">comp2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="o">&lt;</span><span class="n">compN</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
<p>If only one complex is specified then the complex at complex_id will be replaced. However, if more than one is specified then complex_id will be replaced and the new complexes will bump down all present complexes.</p>
</div>
<div class="section" id="editing-a-macromolecule-internal-use">
<h4>Editing A Macromolecule (Internal Use)<a class="headerlink" href="#editing-a-macromolecule-internal-use" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">m</span> <span class="o">&lt;</span><span class="n">macr_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">M</span> <span class="o">&lt;</span><span class="n">macr1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">macr2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="o">&lt;</span><span class="n">macrN</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">edit</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">macromolecule</span><span class="o">-</span><span class="nb">id</span> <span class="o">&lt;</span><span class="n">macr_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">M</span> <span class="o">&lt;</span><span class="n">macr1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">macr2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">...</span><span class="p">,</span><span class="o">&lt;</span><span class="n">macrN</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="deleting-notes">
<h3>Deleting Notes<a class="headerlink" href="#deleting-notes" title="Permalink to this headline">¶</a></h3>
<p>Notes may be deleted using the sff notes del sub-subcommand. Because deleting is a destructive process the user only needs to specify which notes is being deleted.</p>
<div class="section" id="deleting-a-description">
<h4>Deleting A Description<a class="headerlink" href="#deleting-a-description" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="k">del</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">D</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="section" id="deleting-the-number-of-instances">
<h4>Deleting The Number Of Instances<a class="headerlink" href="#deleting-the-number-of-instances" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="k">del</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">n</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="section" id="deleting-an-external-reference">
<h4>Deleting An External Reference<a class="headerlink" href="#deleting-an-external-reference" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="k">del</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">e</span> <span class="o">&lt;</span><span class="n">extref_id</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="section" id="deleting-a-complex-internal-use">
<h4>Deleting A Complex (Internal Use)<a class="headerlink" href="#deleting-a-complex-internal-use" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="k">del</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">c</span> <span class="o">&lt;</span><span class="n">comp_id</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
<div class="section" id="deleting-a-macromolecule-internal-use">
<h4>Deleting A Macromolecule (Internal Use)<a class="headerlink" href="#deleting-a-macromolecule-internal-use" title="Permalink to this headline">¶</a></h4>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="k">del</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="n">segment_id</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">m</span> <span class="o">&lt;</span><span class="n">macr_id</span><span class="o">&gt;</span> <span class="n">file</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="saving-notes">
<h3>Saving Notes<a class="headerlink" href="#saving-notes" title="Permalink to this headline">¶</a></h3>
<p>It is important to periodically save notes. Running sff notes save save_to_file.json merges all notes from the temporary file into the destination file.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">save</span> <span class="n">save_to_file</span><span class="o">.</span><span class="n">json</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">save</span> <span class="n">save_to_file</span><span class="o">.</span><span class="n">sff</span>
<span class="n">sff</span> <span class="n">notes</span> <span class="n">save</span> <span class="n">save_to_file</span><span class="o">.</span><span class="n">hff</span>
</pre></div>
</div>
<p>Note that the file specified must exist and correspond to the annotated EMDB-SFF file.</p>
</div>
<div class="section" id="trashing-notes">
<h3>Trashing Notes<a class="headerlink" href="#trashing-notes" title="Permalink to this headline">¶</a></h3>
<p>Only one EMDB-SFF file per directory may have its notes modified at a time. This is because only one temporary file is created and an attempt to modify another file will raise a warning.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">Wed</span> <span class="n">Sep</span> <span class="mi">13</span> <span class="mi">12</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">42</span> <span class="mi">2017</span> <span class="n">Temporary</span> <span class="n">file</span> <span class="n">shorthand</span> <span class="n">to</span> <span class="n">use</span><span class="p">:</span> <span class="o">@</span>
<span class="n">Wed</span> <span class="n">Sep</span> <span class="mi">13</span> <span class="mi">12</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">42</span> <span class="mi">2017</span> <span class="n">Found</span> <span class="n">temp</span> <span class="n">file</span> <span class="o">./</span><span class="n">temp</span><span class="o">-</span><span class="n">annotated</span><span class="o">.</span><span class="n">json</span><span class="o">.</span> <span class="n">Either</span> <span class="n">run</span> <span class="s1">&#39;save&#39;</span> <span class="ow">or</span> <span class="s1">&#39;trash&#39;</span> <span class="n">to</span> <span class="n">discard</span> <span class="n">changes</span> <span class="n">before</span> <span class="n">working</span> <span class="n">on</span> <span class="n">another</span> <span class="n">file</span><span class="o">.</span>
</pre></div>
</div>
<p>The user can trash using the sff notes trash &#64; to reset the current directory to a VIEW state.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">trash</span> <span class="o">@</span>
<span class="n">Wed</span> <span class="n">Sep</span> <span class="mi">13</span> <span class="mi">12</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">18</span> <span class="mi">2017</span> <span class="n">Discarding</span> <span class="nb">all</span> <span class="n">changes</span> <span class="n">made</span> <span class="ow">in</span> <span class="n">temp</span> <span class="n">file</span> <span class="o">./</span><span class="n">temp</span><span class="o">-</span><span class="n">annotated</span><span class="o">.</span><span class="n">json</span><span class="o">...</span> <span class="n">Done</span>
</pre></div>
</div>
</div>
<div class="section" id="merging-notes">
<h3>Merging Notes<a class="headerlink" href="#merging-notes" title="Permalink to this headline">¶</a></h3>
<p>Notes can be manually merged from two EMDB-SFF files. Obviously both files must refer to the exact same segmentation i.e. the number and IDs of segments must be identical. The user must specify an output file with the extension determining the output format.</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">sff</span> <span class="n">notes</span> <span class="n">merge</span> <span class="n">file1</span><span class="o">.</span><span class="n">sff</span> <span class="n">file2</span><span class="o">.</span><span class="n">json</span> <span class="o">-</span><span class="n">o</span> <span class="n">merged_file</span><span class="o">.</span><span class="n">hff</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="configuration-settings">
<h2>Configuration Settings<a class="headerlink" href="#configuration-settings" title="Permalink to this headline">¶</a></h2>
<p>There are two main parameters that control the annotation process:</p>
<ul class="simple">
<li>__TEMP_FILE sets the path and name of the file to be used as a temporary store of annotations while in the MODIFY STATE. The temporary file holds all modifications until they are saved. All actions done in the MODIFY STATE occur on this file so that any crashes will leave the original file unchanged. Depending on the format used it can significantly speed up viewing and modification of notes. By default it is a JSON file.</li>
<li>__TEMP_FILE_REF serves as a shorthand reference to the segmentation file. It can only be used in the MODIFY STATE. The default value is ‘&#64;’. The use can use it to refer to the segmentation file instead of typing the full file path and name.</li>
</ul>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>A unique identifier for a term under the Open Biology Ontologies consortium’s OBO Foundry (see <a class="reference external" href="http://www.obofoundry.org/id-policy.html">*http://www.obofoundry.org/id-policy.html*</a> to learn more about obo_id). For example, in the Gene Ontology (GO) the term <em>positive regulation of release of cytochrome c from mitochondria</em> has the OBO ID <em>GO:0090200.</em></td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Annotating EMDB-SFF Segmentations</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#operations-find-view-modify">Operations: find, view, modify</a></li>
<li><a class="reference internal" href="#states-find-view-modify">States: FIND, VIEW, MODIFY</a></li>
<li><a class="reference internal" href="#quick-start">Quick Start</a></li>
</ul>
</li>
<li><a class="reference internal" href="#finding-notes">Finding Notes</a><ul>
<li><a class="reference internal" href="#specifying-search-terms">Specifying Search Terms</a><ul>
<li><a class="reference internal" href="#specifying-the-ontology-to-search">Specifying The Ontology To Search</a></li>
<li><a class="reference internal" href="#performing-exact-searches">Performing Exact Searches</a></li>
<li><a class="reference internal" href="#including-obsolete-terms">Including Obsolete Terms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#listing-available-ontologies">Listing Available Ontologies</a><ul>
<li><a class="reference internal" href="#short-listing-of-ontologies">Short Listing Of Ontologies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#traversing-searching-results">Traversing Searching Results</a><ul>
<li><a class="reference internal" href="#specifying-the-start-result">Specifying The Start Result</a></li>
<li><a class="reference internal" href="#specifying-the-number-of-rows-to-display">Specifying The Number Of Rows To Display</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#viewing-notes">Viewing Notes</a><ul>
<li><a class="reference internal" href="#listing-all-notes">Listing All Notes</a><ul>
<li><a class="reference internal" href="#long-format">Long Format</a></li>
<li><a class="reference internal" href="#sorting-notes-by-description">Sorting Notes By Description</a></li>
<li><a class="reference internal" href="#reverse-sorting">Reverse Sorting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#listing-notes-in-a-single-segment">Listing Notes In A Single Segment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#modifying-notes">Modifying Notes</a><ul>
<li><a class="reference internal" href="#temporary-file">Temporary File</a><ul>
<li><a class="reference internal" href="#a-note-about-emdb-sff-formats">A Note About EMDB-SFF Formats</a></li>
</ul>
</li>
<li><a class="reference internal" href="#temporary-file-shorthand">Temporary File Shorthand</a></li>
<li><a class="reference internal" href="#modify-sequence">Modify Sequence</a></li>
<li><a class="reference internal" href="#adding-notes">Adding Notes</a><ul>
<li><a class="reference internal" href="#adding-a-description">Adding A Description</a></li>
<li><a class="reference internal" href="#adding-the-number-of-instances">Adding The Number of Instances</a></li>
<li><a class="reference internal" href="#adding-an-external-reference">Adding An External Reference</a></li>
<li><a class="reference internal" href="#adding-a-complex-internal-use">Adding A Complex (Internal Use)</a></li>
<li><a class="reference internal" href="#adding-a-macromolecule-internal-use">Adding A Macromolecule (Internal Use&gt;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#editing-notes">Editing Notes</a><ul>
<li><a class="reference internal" href="#editing-a-description">Editing A Description</a></li>
<li><a class="reference internal" href="#editing-the-number-of-instances">Editing The Number of Instances</a></li>
<li><a class="reference internal" href="#editing-an-external-reference">Editing An External Reference</a></li>
<li><a class="reference internal" href="#editing-a-complex-internal-use">Editing A Complex (Internal Use)</a></li>
<li><a class="reference internal" href="#editing-a-macromolecule-internal-use">Editing A Macromolecule (Internal Use)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deleting-notes">Deleting Notes</a><ul>
<li><a class="reference internal" href="#deleting-a-description">Deleting A Description</a></li>
<li><a class="reference internal" href="#deleting-the-number-of-instances">Deleting The Number Of Instances</a></li>
<li><a class="reference internal" href="#deleting-an-external-reference">Deleting An External Reference</a></li>
<li><a class="reference internal" href="#deleting-a-complex-internal-use">Deleting A Complex (Internal Use)</a></li>
<li><a class="reference internal" href="#deleting-a-macromolecule-internal-use">Deleting A Macromolecule (Internal Use)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#saving-notes">Saving Notes</a></li>
<li><a class="reference internal" href="#trashing-notes">Trashing Notes</a></li>
<li><a class="reference internal" href="#merging-notes">Merging Notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-settings">Configuration Settings</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="converting.html" title="previous chapter">Converting Files To EMDB-SFF</a></li>
      <li>Next: <a href="misc.html" title="next chapter">Miscellaneous Operations Using sfftk</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/annotating.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, EMBL-EBI.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/annotating.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>