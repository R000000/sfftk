language: python

python:
  - "2.7"

sudo: true

before_install:
  - python --version
  - sudo apt-get update
  - sudo apt-get install build-essential
  - pip -V
  - pip install --upgrade pip
  - pip install setuptools
  - pip install coveralls

install:
  - python setup.py develop
  - sff --help

script:
  - coverage run --include="/home/travis/build/emdb-empiar/sfftk/*" --omit="/home/travis/build/emdb-empiar/sfftk/schema/v*.py","/home/travis/build/emdb-empiar/sfftk/test_data","/home/travis/build/emdb-empiar/sfftk/unittests" `which sff` tests schema -v 3
  - coverage run --include="/home/travis/build/emdb-empiar/sfftk/*" --omit="/home/travis/build/emdb-empiar/sfftk/schema/v*.py","/home/travis/build/emdb-empiar/sfftk/test_data","/home/travis/build/emdb-empiar/sfftk/unittests" `which sff` tests readers -v 3
  - coverage run --include="/home/travis/build/emdb-empiar/sfftk/*" --omit="/home/travis/build/emdb-empiar/sfftk/schema/v*.py","/home/travis/build/emdb-empiar/sfftk/test_data","/home/travis/build/emdb-empiar/sfftk/unittests" `which sff` tests formats -v 3
  - coverage run --include="/home/travis/build/emdb-empiar/sfftk/*" --omit="/home/travis/build/emdb-empiar/sfftk/schema/v*.py","/home/travis/build/emdb-empiar/sfftk/test_data","/home/travis/build/emdb-empiar/sfftk/unittests" `which sff` tests notes -v 3
  - coverage run --include="/home/travis/build/emdb-empiar/sfftk/*" --omit="/home/travis/build/emdb-empiar/sfftk/schema/v*.py","/home/travis/build/emdb-empiar/sfftk/test_data","/home/travis/build/emdb-empiar/sfftk/unittests" `which sff` tests core -v 3
  - coverage run --include="/home/travis/build/emdb-empiar/sfftk/*" --omit="/home/travis/build/emdb-empiar/sfftk/schema/v*.py","/home/travis/build/emdb-empiar/sfftk/test_data","/home/travis/build/emdb-empiar/sfftk/unittests" `which sff` tests main -v 3

after_success:
  - coveralls
